<!DOCTYPE html>
<html>
  <body>
    <style>
      body {
        background-color:#000000;
        color:#fff;
        text-align:center;
      }
      p {
        font-size:1.2em;
      }
      button {
        border-radius:20px;
        padding:10px 10px;
        background-color:#ffffff;
        color:#000;
        cursor:pointer;
        transition:transform 0.5s ease;
      }
      button:hover {
        transform: scale(1.1);
      }
      button:active {
        transform: scale(0.9);
      }
      @keyframes spawnIn {
        0% {
          transform:scale(0);
        }
        66% {
          transform:scale(1.2);
        }
        100% {
          transform:scale(1);
        }
      }
      .spawning {
        animation:spawnIn 1000ms ease;
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>
    <button onclick='throw new OopsieError("oopsie");'>Experience my pain making this website (use Inspect)</button>
    <h2>Data</h2>
    <button onclick='saveGame();'>Save</button>
    <button onclick='loadGame();'>Load</button>
    <button id='exp' onclick='exportGame();'>Export</button>
    <button onclick='importGame();'>Import</button>
    <h1>Heading!!!</h1>
    <p>Text!!!</p>
    <p id='numishere'>0</p>
    <h2>Layers!!!</h2>
    <button onclick='inc();'>Increment idk what to call it</button>
    <button onclick='incn(0,-1);'>Increment</button>
    <script>
      class OopsieError extends Error {
        constructor(message) {
          super(message);
          this.name="OopsieError";
        }
      }
      let a=[[1n]];
      let y=0;
      function inc() {
        let newbutton=document.createElement('button');
        a.push([1n]);
        y++;
        let y2=y;
        newbutton.innerText='Increment'+' Incrementor'.repeat(y)+'s';
        newbutton.onclick=(()=>incn(y2,-1));
        let newbr=document.createElement('br');
        newbr.id=y.toString();
        document.body.appendChild(newbr);
        document.body.appendChild(document.createElement('br'));
        document.body.appendChild(newbutton);
        newbutton.offsetWidth;
        newbutton.classList.add("spawning");
        navigator.vibrate([10,100,10,200,100]);
      }
      function incn(m,n) {
        if (m==0&&n==-1) {
          let numisthere=document.getElementById('numishere');
          numisthere.innerText=BigInt(numishere.innerText)+a[0][0];
        } else if (n==-1) {
          for(let i=0;i<a[m][0];i++){
            let newbutton=document.createElement('button');
            newbutton.innerText='Increment'+' Incrementor'.repeat(m-1)+' Incrementing'.repeat(a[m-1].length);
            let m2=m-1;
            let alen=a[m-1].length-1;
            newbutton.onclick=(()=>incn(m2,alen));
            a[m-1].push(1n);
            document.body.insertBefore(newbutton,document.getElementById(m.toString()));
            newbutton.offsetWidth;
            newbutton.classList.add("spawning");
          }
        } else {
          a[m][n]+=a[m][n+1];
        }
        navigator.vibrate([m*100+25]);
      }
      function saveGame() {
        let saveData = {
          a:a,
          y:y,
          number:document.getElementById('numishere').innerText
        };
        localStorage.setItem("curSave",pako.deflate(JSON.stringify(saveData),{to:'string'}));
        alert("Saved");
      }
      function loadGame() {
        let raw=pako.inflate(localStorage.getItem("curSave"),{to:'string'});
        let saveData=JSON.parse(raw);
        a=saveData.a;
        y=saveData.y;
        document.getElementById('numishere').innerText=saveData.number;
        for(let i=1;i<=y;i++) {
          let y2=i;
          let newbutton=document.createElement('button');
        newbutton.innerText='Increment'+' Incrementor'.repeat(i)+'s';
        newbutton.onclick=(()=>incn(y2,-1));
        let newbr=document.createElement('br');
        newbr.id=i.toString();
        document.body.appendChild(newbr);
        document.body.appendChild(document.createElement('br'));
        document.body.appendChild(newbutton);
        newbutton.offsetWidth;
        newbutton.classList.add("spawning");
          for(let j=0;j<=a[i-1].length-2;j++) {
            let newbutton=document.createElement('button');
            newbutton.innerText='Increment'+' Incrementor'.repeat(i-1)+' Incrementing'.repeat(j+1);
            let x=i-1;
            let y=j;
            newbutton.onclick=(()=>incn(x,y));
            document.body.insertBefore(newbutton,document.getElementById(i.toString()));
            newbutton.offsetWidth;
            newbutton.classList.add("spawning");
          }
        }
        navigator.vibrate([1000]);
      }
      function exportGame() {
        document.getElementById('exp').innerText=localStorage.getItem("curSave");
      }
      function importGame() {
        localStorage.setItem("curSave",prompt("Save file",""));
      }
    </script>
  </body>
</html>
